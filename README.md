# hh-school-search
## Дз по поиску 

Реализовать свой простой поиск на java, который может работать в 2 режимах: 

1. Индексация: на вход подаётся название файла(директории) индекса и исходный файл, где каждая строка является отдельным документом в индексе, и происходит построение индекса, который записывается в файл(директорию). 
2. Поиск: на вход подаётся название файла индекса и запрос, на выходе получаем список документов подходящих под этот запрос.

Начать можно с написания наивной реализации инвертированного индекса и запросов по одному слову. В итоге должна получиться jar-ка, которая может работать в 2 режимах. Сдавать в виде PR к этому репозиторию с инструкцией для сборки и запуска, и списком что было реализованно. 

## Доп. задания (не обязательно, в порядке усложнения): 
* написать реализацию запросов AND и NOT
* написать реализацию фразовых запросов
* применить оптимизации при построении индекса из лекции
* написать реализацию OR с задаваемым минимальным количеством вхождений (пример: есть запрос java OR scala OR kotlin, мы хотим все документы где есть минимум 2 слова)

## Срок сдачи

31.01.2019 23:59

# Инструкция для сборки и запуска
1. Открыть командную строку или Git Bash **от имени администратора**
2. Перейти в директорию с jar-файлом (<путь_на_диске_к_репозиторию>/search/out/artifacts/search_jar)
3. Запустить программу в одном из двух возможных режимов:
    3.1. **Режим индексации** запускается по команде `java -jar search.jar INDEX path-to-index-file path-to-source-file` (где path-to-index-file - путь к файлу индекса
    path-to-source-file - путь к файлу, из которого берутся строки (aka документы)
    на данный момент программа *поддерживает только работу с текстовыми файлами, файлы должны быть предварительно созданы*)
    **На выходе** в файл, находящийся по адресу path-to-index-file записываются все термы (слова) из исходного документа и каждому терму в соответствие ставится список id документов, в которых встречается данный терм
    3.2. **Режим поиска** запускается по команде `java -jar search.jar SEARCH path-to-index-file search-query` (где 
    path-to-index-file - путь к файлу индекса
    search-query - поисковый запрос (на данный момент поддерживается только поиск по одному слову)
    на данный момент программа *поддерживает только работу с текстовыми файлами, файлы должны быть предварительно созданы*)
    **На выходе** в консоли отображается список документов (на данный момент только список id), в которых встречалось искомое слово
4. Соотнести полученный результат, с тем что указано в пп. 3.1 или 3.2 в строке **на выходе**.

# Что реализовано на данный момент?
* Два режима работы программы (INDEX и SEARCH), при попытке задания в качестве аргумента другого режима (другой строки, любой), высвечивается ошибка о том, что такого режима работы программы не существует
* Для режима INDEX реализовано:
    * запись в текстовый файл индекса всех термов, встречающихся в исходном текстовом документе
    * каждому терму поставлен в соответствие (через двоеточие в файле индекса) список id документов, в которых терм встречался
    * при токенизации строк исходного документа происходит фильтрация стоп-слов (список стоп-слов взят рандомно из примера в интернете)
* Для режима SEARCH реализовано:
    * поиск заданного слова (пока только одного слова) в файле индекса
    * в качестве результата пользователю возвращается либо список id документов, в которых найдено искомое слово, либо null, если слово не найдено в индексе (то есть его не было в исходном документе)